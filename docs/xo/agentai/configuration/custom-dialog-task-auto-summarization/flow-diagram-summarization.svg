<svg viewBox="0 0 800 900" xmlns="http://www.w3.org/2000/svg">
    <!-- Styles -->
    <style>
        .box { fill: white; stroke: black; stroke-width: 2; rx: 10; }
        .diamond { fill: white; stroke: black; stroke-width: 2; }
        .arrow { stroke: black; stroke-width: 2; marker-end: url(#arrowhead); }
        .text { font-family: Arial; font-size: 13px; text-anchor: middle; }
    </style>

    <!-- Arrow marker definition -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
        </marker>
    </defs>

    <!-- Boxes -->
    <rect class="box" x="250" y="20" width="300" height="60"/>
    <rect class="box" x="250" y="120" width="300" height="40"/>
    <rect class="box" x="250" y="200" width="300" height="80"/>
    <rect class="box" x="250" y="320" width="300" height="40"/>
    
    <!-- Diamond -->
    <path class="diamond" d="M400 400 L500 460 L400 520 L300 460 Z"/>
    
    <!-- Left branch boxes -->
    <rect class="box" x="50" y="520" width="300" height="80"/>
    
    <!-- Right branch boxes -->
    <rect class="box" x="450" y="520" width="300" height="80"/>
    <rect class="box" x="450" y="640" width="300" height="80"/>
    <rect class="box" x="450" y="760" width="300" height="60"/>

    <!-- Vertical Arrows -->
    <line class="arrow" x1="400" y1="80" x2="400" y2="120"/>
    <line class="arrow" x1="400" y1="160" x2="400" y2="200"/>
    <line class="arrow" x1="400" y1="280" x2="400" y2="320"/>
    <line class="arrow" x1="400" y1="360" x2="400" y2="400"/>
    
    <!-- Diamond arrows - now straight -->
    <line class="arrow" x1="300" y1="460" x2="200" y2="520"/>
    <line class="arrow" x1="500" y1="460" x2="600" y2="520"/>
    
    <!-- Right branch arrows -->
    <line class="arrow" x1="600" y1="600" x2="600" y2="640"/>
    <line class="arrow" x1="600" y1="720" x2="600" y2="760"/>

    <!-- Text -->
    <text class="text" x="400" y="55">Service Node, Fetch Conversation</text>
    <text class="text" x="400" y="75">History</text>
    
    <text class="text" x="400" y="145">Format Notifications (Optional)</text>
    
    <text class="text" x="400" y="230">Service Node, Make an API Call</text>
    <text class="text" x="400" y="250">to the External Summarization</text>
    <text class="text" x="400" y="270">Service</text>
    
    <text class="text" x="400" y="345">Summary Text Extraction (If needed)</text>
    
    <text class="text" x="400" y="465">Can Agent Edit the Summary?</text>
    <text class="text" x="400" y="485">(If required)</text>
    
    <text class="text" x="200" y="550">Use Message Node, Add the Summary</text>
    <text class="text" x="200" y="570">as a Message to Display the</text>
    <text class="text" x="200" y="590">Summary to Agent</text>
    
    <text class="text" x="600" y="550">Use Entity Node, Add the Summary</text>
    <text class="text" x="600" y="570">as a prompt to Display it</text>
    <text class="text" x="600" y="590">to the Agent</text>
    
    <text class="text" x="600" y="670">Receive the Summary After</text>
    <text class="text" x="600" y="690">Agent Submits from the</text>
    <text class="text" x="600" y="710">Summary Pop-up</text>
    
    <text class="text" x="600" y="780">Persist the Summary by</text>
    <text class="text" x="600" y="800">calling an API using Service Node</text>

    <!-- Yes/No labels -->
    <text class="text" x="550" y="470">Yes</text>
    <text class="text" x="250" y="470">No</text>
</svg>
