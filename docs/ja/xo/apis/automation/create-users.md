# Create User API

To add users to an account.

!!!note
    This API requires JWT generated by an application created only from the Bot Admin Console. This feature was introduced in ver7.1 of the platform.


<table>
  <tr>
   <td><strong>Method</strong>
   </td>
   <td>POST
   </td>
  </tr>
  <tr>
   <td><strong>Endpoint</strong>
   </td>
   <td><code>https://{{host}}/api/public/users</code>
   </td>
  </tr>
  <tr>
   <td><strong>Content Type</strong>
   </td>
   <td><code>application/json</code>
   </td>
  </tr>
  <tr>
   <td><strong>Authorization</strong>
   </td>
   <td><code>auth: {{JWT}}</code>
<p>
See <a href="../api-introduction/#generating-the-jwt-token">How to generate the JWT Token.</a>
   </td>
  </tr>
  <tr>
   <td><strong>API Scope</strong>
   </td>
   <td>
<ul>

<li>Bot Builder: Not Applicable

<li>Admin Console: User Management > User Management
</li>
</ul>
   </td>
  </tr>
</table>


## Path Parameters


<table>
  <tr>
   <td><strong>PARAMETER</strong>
   </td>
   <td><strong>DESCRIPTION</strong>
   </td>
  </tr>
  <tr>
   <td>host
   </td>
   <td>Environment URL, for example, https://bots.kore.ai
   </td>
  </tr>
</table>


## Sample Request


```json
curl -X POST \
  https://{{host}}/api/public/users \
  -H 'Content-Type: application/json' \
  -H 'auth: YOUR_JWT_ACCESS_TOKEN' \
  -d '{
    "users": [
        {
            "userInfo": {
                "emailId": "deskkore1@gmail.com",
                "orgUserId": "org assigned user id",
                "firstName": "user1",
                "lastName":"user1",
                "companyName":"company_name",
                "dept":"dept",
                "companyContactPhone":"12334444",
                "worknumber":"321",
                "street":"street",
                "suiteNo":"suite",
                "city":"city",
                "zip":"123123",
                "state":"state",
                "country":"country"
            },
            "groups": [
                "e-06b41cdd-7678-5394-b958-40ca5662f502"
            ],
            "roles": [
                {
                    "roleId": "5d9d8db30d54920a8df1e68b",
                    "streamId": "st-b8525f88-6dd3-54a7-8a97-734ecb748733"
                },
                {
                    "roleId": "5d9d920dabdc1e6e8ec99342",
                    "streamId": "st-16511425-15c5-5cdf-b652-a796db7d134b"
                },
                {
                    "roleId": "5bbcb20c8bfd33db440ec1d1"
                },
                {
                    "roleId": "5d9d8d930d54920a8df1e689"
                }         
            ],
            "assignBotTasks": [
              {
                "streamId": "st-xxx-xx-xxx-xxx-xxxx",
                "dialogs": ["dg-xxxx-xx-xx-xx-xxxx"]
               } 
            ],
            "canCreateBot": true,
            "isDeveloper": true
        }
]
}'
```


## Body Parameters


<table>
  <tr>
   <td><strong>PARAMETER</strong>
   </td>
   <td><strong>REQUIRED/OPTIONAL</strong>
   </td>
   <td><strong>DESCRIPTION</strong>
   </td>
  </tr>
</table>



<table>
  <tr>
   <td>users
   </td>
   <td>The array of details for each user to include user email id, user first name, group to which the user will belong, roles to be assigned to the Bots, and the permissions.
<p>
<strong>Note:</strong> The following entries till isDeveloper are the sub-parameters of the <strong>users</strong> parameter.
   </td>
  </tr>
</table>



<table>
  <tr>
   <td>userInfo.emailId
   </td>
   <td>Required
   </td>
   <td>Email Ids of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.orgUserId
   </td>
   <td>Optional
   </td>
   <td>User id assigned by your organization of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.firstName
   </td>
   <td>Optional
   </td>
   <td>First name of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.lastName
   </td>
   <td>Optional
   </td>
   <td>Last name of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.companyName
   </td>
   <td>Optional
   </td>
   <td>Company to which the user being added belongs
   </td>
  </tr>
  <tr>
   <td>userInfo.dept
   </td>
   <td>Optional
   </td>
   <td>Department to which the user being added belongs
   </td>
  </tr>
  <tr>
   <td>userInfo.companyContactPhone
   </td>
   <td>Optional
   </td>
   <td>Contact Phone of the Company to which the user being added belongs
   </td>
  </tr>
  <tr>
   <td>userInfo.worknumber
   </td>
   <td>Optional
   </td>
   <td>Work number of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.street
   </td>
   <td>Optional
   </td>
   <td>Street Address of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.suiteNo
   </td>
   <td>Optional
   </td>
   <td>Suite No Address of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.city
   </td>
   <td>Optional
   </td>
   <td>City Address of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.zip
   </td>
   <td>Optional
   </td>
   <td>Zip Address of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.state
   </td>
   <td>Optional
   </td>
   <td>State Address of the user being added
   </td>
  </tr>
  <tr>
   <td>userInfo.country
   </td>
   <td>Optional
   </td>
   <td>Country Address of the user being added
   </td>
  </tr>
  <tr>
   <td>groups
   </td>
   <td>Optional
   </td>
   <td>array of group ids to which the user should belong
   </td>
  </tr>
  <tr>
   <td>roles
   </td>
   <td>Optional
   </td>
   <td>array of roleId-botId combinations saying what role the user has on which bot
   </td>
  </tr>
  <tr>
   <td>assignBotTasks
   </td>
   <td>Optional
   </td>
   <td>array of bots that need to be assigned to the user

<table>
  <tr>
   <td>streamId
   </td>
   <td>
   </td>
   <td>Id of the Bot to be assigned to the user
   </td>
  </tr>
  <tr>
   <td>dialogs
   </td>
   <td>
   </td>
   <td>Array of dialog task ids within the bot that need to be assigned to the user. If not given, all the dialog tasks are assigned
   </td>
  </tr>
</table>


   </td>
  </tr>
  <tr>
   <td>canCreateBot

   </td>
   <td>Optional

   </td>
   <td>Determines if the specified users can create bots in their Bot Builder accounts. Set to true or false.

Default value is _“true”._

   </td>
  </tr>
  <tr>
   <td>isDeveloper

   </td>
   <td>Optional

   </td>
   <td>Determines if the specified users can have access to Bot Builder. Set to true or false.

Default value is _“true”._

   </td>
  </tr>
  <tr>
   <td>sendEmail

   </td>
   <td>Optional

   </td>
   <td>Determines if an email needs to be sent to the user containing activation link to activate users under the account. Set to true or false.

Default value is _“true”._

   </td>
  </tr>
</table>


 


## Sample Response

* For success case:


```json
{
    "msg": "Users are created Successfully"
};

```

* Failure case:

    ```json
    {

       "failedUserDetails": [
            {
                "userInfo": {
                    "emailId": "deskkore1",
                    "firstName": "user1",
                    "status": "failure",
                    "reason": {
                        "statusCode": 400,
                        "status": 400,
                        "customCode": 400,
                        "errors": [
                            {
                                "msg": "INVALID_EMAIL",
                                "code": 400
                            }
                        ],
                        "_headers": {},
                        "message": "INVALID_EMAIL",
                        "name": "BadRequest"
                    }
                }
            }
        ]
    }
    ```
